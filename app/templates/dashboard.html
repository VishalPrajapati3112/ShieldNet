{% extends 'base.html' %}
{% block content %}
<div style="max-width:700px; margin:60px auto; text-align:center;">

  <!-- âœ… Mode Detection Banner -->
  {% if request.host.startswith('localhost') 
        or request.host.startswith('127.') 
        or request.host.startswith('192.168.') 
        or request.host.startswith('10.') %}
    <div style="background:#d4edda; color:#155724; padding:12px; border-radius:10px; margin-bottom:25px;">
      ğŸŸ¢ Youâ€™re connected via <strong>LAN Mode</strong>
    </div>
  {% else %}
    <div style="background:#cce5ff; color:#004085; padding:12px; border-radius:10px; margin-bottom:25px;">
      ğŸŒ Youâ€™re using <strong>Online Mode</strong>
    </div>
  {% endif %}

  <h2>Welcome, {{ user.username }}!</h2>
  <p style="color:gray;">Select a method to share files:</p>

  <div style="display:flex; justify-content:center; gap:30px; margin-top:40px;">
    <!-- ğŸŒ Online Transfer (Always Available) -->
    <a href="{{ url_for('online_transfer.index') }}"
       style="background:#007bff; color:white; padding:20px 35px; border-radius:10px; text-decoration:none;">
       ğŸŒ Online Transfer
    </a>

    <!-- ğŸ’» LAN Transfer -->
    {% if request.host.startswith('localhost') 
          or request.host.startswith('127.') 
          or request.host.startswith('192.168.') 
          or request.host.startswith('10.') %}
      <a href="{{ url_for('lan.create_session') }}"
         style="background:#28a745; color:white; padding:20px 35px; border-radius:10px; text-decoration:none;">
         ğŸ’» LAN Transfer
      </a>
    {% else %}
      <button disabled
         style="background:gray; color:white; padding:20px 35px; border-radius:10px; border:none; cursor:not-allowed;">
         ğŸ’» LAN Transfer (Unavailable Online)
      </button>
    {% endif %}
  </div>
</div>
{% endblock %}
